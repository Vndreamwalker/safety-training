<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Đào tạo nhận diện mối nguy</title>

<style>
body { font-family: Arial; background:#f5f5f5; padding:20px }
h1 { text-align:center }

.video-wrapper {
  position:relative;
  width:800px; max-width:100%;
  margin:auto;
}

iframe {
  width:100%;
  height:450px;
}

.overlay {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  display:none;
}

.hazard {
  position:absolute;
  border:2px dashed red;
  background:rgba(255,0,0,.25);
  cursor:pointer;
}

.hazard.clicked {
  border-color:green;
  background:rgba(0,200,0,.35);
}

.result {
  text-align:center;
  font-size:20px;
  font-weight:bold;
  margin-top:15px;
}
</style>
</head>

<body>

<h1>Nhận diện mối nguy (00:21 → 00:30)</h1>

<div class="video-wrapper">

<iframe
  src="https://www.youtube.com/embed/fXYMaqxx2sY?start=21&autoplay=1&mute=1"
  allow="autoplay"
  frameborder="0">
</iframe>

<div class="overlay" id="overlay">
  <div class="hazard" style="top:120px; left:100px; width:150px; height:120px;"></div>
  <div class="hazard" style="top:240px; left:360px; width:160px; height:130px;"></div>
</div>

</div>

<div class="result" id="result"></div>

<script>
const overlay = document.getElementById('overlay');
const hazards = document.querySelectorAll('.hazard');
const total = hazards.length;
let found = 0;

// Sau 9 giây (21 → 30)
setTimeout(() => {
  overlay.style.display = 'block';
}, 9000);

hazards.forEach(h => {
  h.onclick = () => {
    if (!h.classList.contains('clicked')) {
      h.classList.add('clicked');
      found++;
      if (found === total) {
        document.getElementById('result').innerHTML =
          "✅ ĐÁNH GIÁ ĐÚNG – TRÁNH ĐƯỢC TAI NẠN";
      }
    }
  }
});

// Sau 15 giây nếu chưa đủ → tai nạn
setTimeout(() => {
  if (found < total) {
    document.getElementById('result').innerHTML =
      "❌ ĐÁNH GIÁ CHƯA ĐỦ – <a href='https://youtu.be/fXYMaqxx2sY?t=30' target='_blank'>Xem tai nạn xảy ra</a>";
  }
}, 15000);
</script>

</body>
</html>
